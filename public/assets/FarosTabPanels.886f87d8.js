import{_ as T,h as x,j as y,g as O,b as V,p as _,k as M,l as B,m as C,q as k,o as E,c as R,r as S}from"./app.1bc9cd5c.js";const F={props:{modelValue:{default:null,type:[String,Number]},animate:{default:!1,type:Boolean},swipeable:{default:!1,type:Boolean},swipeableThreshold:{default:50,type:Number}},emits:["update:modelValue"],setup(g,{emit:w}){const a=g,c=x(),s=y(null),o=O({active:V(()=>a.modelValue),start:!1,startPosition:{x:0,y:0},tabPanelOptions:[]});_("tab",o),M(()=>{r(),u(a.modelValue),window.addEventListener("resize",f)}),B(()=>{window.removeEventListener("resize",f)}),C(()=>{r(),u(a.modelValue)}),k(()=>a.modelValue,e=>{u(e)},{immediate:!0});const f=((e,n=50)=>{let t=null;return()=>{clearTimeout(t),t=setTimeout(()=>{e()},n)}})(()=>{r(),u(a.modelValue,!1)},50);function u(e,n=!0){const t=o.tabPanelOptions.find(i=>i.value===e);t&&s&&(t.height&&(s.value.style.height=t.height+"px"),s.value.scrollTo({left:t.left,behavior:a.animate?"smooth":void 0}))}function r(){var e;if(c.default&&s){let n=c.default()||[];const t=(e=s.value)==null?void 0:e.getBoundingClientRect(),i=(t==null?void 0:t.width)||0;t!=null&&t.height,o.tabPanelOptions=n.map((l,b)=>{var v,P;return{left:i*b,height:((P=(v=s.value)==null?void 0:v.children[b])==null?void 0:P.getBoundingClientRect().height)||null,value:l.props!==void 0&&l.props!==null?l.props.val:void 0}})}}function p(e){w("update:modelValue",e)}function h(e){if(e.type.includes("touch")){const n=e.changedTouches[0];return n?{x:n.clientX,y:n.clientY}:void 0}else return e.type.includes("mouse")?{x:e.clientX,y:e.clientY}:void 0}function m(e){if(a.swipeable){o.start=!0;const n=h(e);if(!n)return;o.startPosition.x=n.x,o.startPosition.y=n.y}}function d(e){if(o.start){o.start=!1;const n=h(e);if(!n)return;const t=o.tabPanelOptions.findIndex(l=>l.value===a.modelValue),i=o.startPosition.x-n.x;if(i<-a.swipeableThreshold){if(t>0){const l=o.tabPanelOptions[t-1];p(l.value)}}else if(i>a.swipeableThreshold&&t<o.tabPanelOptions.length-1){const l=o.tabPanelOptions[t+1];p(l.value)}}}return(e,n)=>(E(),R("div",{class:"overflow-hidden whitespace-nowrap hide-scrollbar",onMousedown:m,onMouseup:d,onMouseleave:d,onTouchstart:m,onTouchend:d,ref_key:"tabPanelsContainerRef",ref:s},[S(e.$slots,"default")],544))}};var N=T(F,[["__file","FarosTabPanels.vue"]]);export{N as default};
